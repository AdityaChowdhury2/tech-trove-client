import SectionHeader from '../Shared/SectionHeader';
import Grid from '@mui/material/Grid';
import Container from '@mui/material/Container';
import { useQuery } from '@tanstack/react-query';
import useAxiosPublic from '../../hooks/useAxiosPublic';
import ProductCard from './ProductCard';
import { Box } from '@mui/material';
import Loading from '../Shared/Loading';
import { Element } from 'react-scroll';

const Featured = () => {
	const axiosPublic = useAxiosPublic();
	const {
		data: featuredProducts,
		isLoading,
		refetch: refetchFeaturedProducts,
	} = useQuery({
		queryKey: ['featuredProducts'],
		queryFn: async () => {
			const response = await axiosPublic(
				'/api/v1/products?featured=true&sortBy=timestamp&sortingOrder=desc'
			);
			return response.data.result;
		},
	});

	return (
		<Box
			component={Element}
			name="featured"
			sx={{
				backgroundImage: `url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svgjs='http://svgjs.dev/svgjs' width='1440' height='600' preserveAspectRatio='none' viewBox='0 0 1440 560'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1002%26quot%3b)' fill='none'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1003%26quot%3b)'%3e%3cpath d='M12.5 287.5L37.5 262.5L62.5 262.5L87.5 262.5M-12.5 287.5L12.5 287.5L37.5 287.5L62.5 287.5' stroke='%233a7cc3' stroke-width='4.17'%3e%3c/path%3e%3cpath d='M56.25 287.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM81.25 262.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0z' fill='%233a7cc3'%3e%3c/path%3e%3cpath d='M187.5 312.5L212.5 287.5L237.5 287.5M312.5 287.5L337.5 262.5L362.5 262.5M162.5 312.5L187.5 287.5L212.5 262.5L237.5 262.5M412.5 287.5L437.5 262.5L462.5 262.5L487.5 262.5M137.5 312.5L162.5 287.5M87.5 312.5L112.5 287.5M-12.5 312.5L12.5 312.5L37.5 312.5L62.5 312.5L87.5 312.5L112.5 312.5L137.5 312.5L162.5 312.5L187.5 312.5L212.5 312.5L237.5 312.5L262.5 312.5L287.5 287.5L312.5 287.5L337.5 287.5L362.5 287.5L387.5 287.5L412.5 287.5L437.5 287.5L462.5 287.5L487.5 287.5L512.5 287.5L537.5 287.5L562.5 287.5' stroke='%233a7cc3' stroke-width='4.17'%3e%3c/path%3e%3cpath d='M556.25 287.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM231.25 287.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM356.25 262.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM231.25 262.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM481.25 262.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM156.25 287.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM106.25 287.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0z' fill='%233a7cc3'%3e%3c/path%3e%3cpath d='M162.5 337.5L187.5 362.5L212.5 362.5L237.5 362.5L262.5 362.5M112.5 337.5L137.5 362.5M337.5 337.5L362.5 312.5L387.5 312.5L412.5 312.5L437.5 312.5M312.5 337.5L337.5 312.5M-12.5 337.5L12.5 337.5L37.5 337.5L62.5 337.5L87.5 337.5L112.5 337.5L137.5 337.5L162.5 337.5L187.5 337.5L212.5 337.5L237.5 337.5L262.5 337.5L287.5 337.5L312.5 337.5L337.5 337.5L362.5 337.5' stroke='%23dd1133' stroke-width='4.17'%3e%3c/path%3e%3cpath d='M356.25 337.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM256.25 362.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM131.25 362.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM431.25 312.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM331.25 312.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0z' fill='%23dd1133'%3e%3c/path%3e%3cpath d='M12.5 212.5L37.5 237.5L62.5 237.5M-12.5 212.5L12.5 212.5L37.5 212.5' stroke='%23dd1133' stroke-width='4.17'%3e%3c/path%3e%3cpath d='M31.25 212.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM56.25 237.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0z' fill='%23dd1133'%3e%3c/path%3e%3cpath d='M-12.5 362.5L12.5 362.5L37.5 362.5L62.5 362.5L87.5 362.5' stroke='%233a7cc3' stroke-width='4.17'%3e%3c/path%3e%3cpath d='M81.25 362.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0z' fill='%233a7cc3'%3e%3c/path%3e%3cpath d='M287.5 162.5L312.5 137.5L337.5 137.5L362.5 137.5L387.5 137.5L412.5 112.5L437.5 112.5L462.5 112.5M162.5 162.5L187.5 187.5L212.5 187.5L237.5 187.5L262.5 187.5M437.5 137.5L462.5 162.5L487.5 187.5L512.5 187.5M237.5 162.5L262.5 137.5L287.5 137.5L312.5 112.5M87.5 187.5L112.5 187.5L137.5 187.5L162.5 187.5L187.5 212.5M387.5 162.5L412.5 162.5L437.5 162.5L462.5 187.5L487.5 212.5L512.5 212.5M-12.5 187.5L12.5 187.5L37.5 187.5L62.5 187.5L87.5 187.5L112.5 162.5L137.5 162.5L162.5 162.5L187.5 162.5L212.5 162.5L237.5 162.5L262.5 162.5L287.5 162.5L312.5 162.5L337.5 162.5L362.5 162.5L387.5 162.5L412.5 137.5L437.5 137.5L462.5 137.5L487.5 137.5L512.5 137.5L537.5 137.5L562.5 137.5L587.5 137.5' stroke='%23dd1133' stroke-width='4.17'%3e%3c/path%3e%3cpath d='M581.25 137.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM456.25 112.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM256.25 187.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM506.25 187.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM306.25 112.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM181.25 212.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM506.25 212.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0z' fill='%23dd1133'%3e%3c/path%3e%3cpath d='M387.5 362.5L412.5 362.5L437.5 362.5L462.5 362.5L487.5 362.5L512.5 362.5L537.5 362.5M87.5 387.5L112.5 412.5L137.5 412.5L162.5 412.5L187.5 412.5L212.5 412.5L237.5 412.5L262.5 412.5M287.5 387.5L312.5 387.5L337.5 387.5L362.5 387.5M62.5 387.5L87.5 412.5L112.5 437.5L137.5 437.5L162.5 437.5L187.5 437.5L212.5 437.5L237.5 437.5L262.5 437.5M462.5 337.5L487.5 312.5L512.5 312.5L537.5 312.5L562.5 312.5L587.5 312.5L612.5 312.5L637.5 312.5L662.5 312.5M37.5 387.5L62.5 412.5L87.5 437.5L112.5 462.5M-12.5 387.5L12.5 387.5L37.5 387.5L62.5 387.5L87.5 387.5L112.5 387.5L137.5 387.5L162.5 387.5L187.5 387.5L212.5 387.5L237.5 387.5L262.5 387.5L287.5 387.5L312.5 362.5L337.5 362.5L362.5 362.5L387.5 362.5L412.5 337.5L437.5 337.5L462.5 337.5L487.5 337.5L512.5 337.5L537.5 337.5L562.5 337.5' stroke='%23dd1133' stroke-width='4.17'%3e%3c/path%3e%3cpath d='M556.25 337.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM531.25 362.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM256.25 412.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM356.25 387.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM256.25 437.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM656.25 312.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM106.25 462.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0z' fill='%23dd1133'%3e%3c/path%3e%3cpath d='M112.5 137.5L137.5 112.5M162.5 137.5L187.5 112.5L212.5 112.5M37.5 162.5L62.5 137.5L87.5 137.5L112.5 112.5M-12.5 162.5L12.5 162.5L37.5 162.5L62.5 162.5L87.5 162.5L112.5 137.5L137.5 137.5L162.5 137.5L187.5 137.5L212.5 137.5' stroke='%233a7cc3' stroke-width='4.17'%3e%3c/path%3e%3cpath d='M206.25 137.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM131.25 112.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM206.25 112.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0zM106.25 112.5 a6.25 6.25 0 1 0 12.5 0 a6.25 6.25 0 1 0 -12.5 0z' fill='%233a7cc3'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cmask id='SvgjsMask1002'%3e%3crect width='1440' height='560' fill='white'%3e%3c/rect%3e%3c/mask%3e%3cmask id='SvgjsMask1003'%3e%3crect width='1440' height='560' fill='white'%3e%3c/rect%3e%3cpath d='M59.37 287.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM84.37 262.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0z' fill='black'%3e%3c/path%3e%3cpath d='M559.37 287.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM234.37 287.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM359.37 262.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM234.37 262.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM484.37 262.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM159.37 287.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM109.37 287.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0z' fill='black'%3e%3c/path%3e%3cpath d='M359.37 337.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM259.37 362.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM134.37 362.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM434.37 312.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM334.37 312.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0z' fill='black'%3e%3c/path%3e%3cpath d='M34.37 212.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM59.37 237.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0z' fill='black'%3e%3c/path%3e%3cpath d='M84.37 362.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0z' fill='black'%3e%3c/path%3e%3cpath d='M584.37 137.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM459.37 112.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM259.37 187.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM509.37 187.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM309.37 112.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM184.37 212.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM509.37 212.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0z' fill='black'%3e%3c/path%3e%3cpath d='M559.37 337.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM534.37 362.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM259.37 412.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM359.37 387.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM259.37 437.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM659.37 312.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM109.37 462.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0z' fill='black'%3e%3c/path%3e%3cpath d='M209.37 137.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM134.37 112.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM209.37 112.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0zM109.37 112.5 a3.13 3.13 0 1 0 6.26 0 a3.13 3.13 0 1 0 -6.26 0z' fill='black'%3e%3c/path%3e%3c/mask%3e%3c/defs%3e%3c/svg%3e")`,
				backgroundRepeat: 'no-repeat',
				paddingTop: 5,
				backgroundPosition: 'left',
				paddingBottom: 5,
			}}
		>
			<Container maxWidth={'lg'} sx={{ padding: '0px' }}>
				<SectionHeader
					title={'Featured Products'}
					subTitle={
						'We bring you an exclusive sneak-peak at the latest product drops before anyone else'
					}
				/>
				{/* <SectionHeader
					title={'Hot Off the Press'}
					subTitle={
						'We bring you an exclusive sneak-peak at the latest product drops before anyone else'
					}
				/> */}
				{isLoading ? (
					<div
						style={{
							display: 'flex',
							justifyContent: 'center',
						}}
					>
						<Loading />
					</div>
				) : (
					<Grid container spacing={3} sx={{ marginTop: 5 }}>
						{featuredProducts &&
							featuredProducts.map(featuredProduct => (
								<Grid key={featuredProduct._id} item xs={12} md={6} xl={3}>
									<ProductCard
										product={featuredProduct}
										refetch={refetchFeaturedProducts}
									/>
								</Grid>
							))}
					</Grid>
				)}
			</Container>
		</Box>
	);
};

export default Featured;
